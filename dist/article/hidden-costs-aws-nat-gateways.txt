1:"$Sreact.fragment"
2:I[95329,["/_next/static/chunks/d6bee75b35a28280.js","/_next/static/chunks/8189c34e001333f7.js"],"default"]
3:I[6724,["/_next/static/chunks/d6bee75b35a28280.js","/_next/static/chunks/8189c34e001333f7.js"],"default"]
5:I[68637,["/_next/static/chunks/d6bee75b35a28280.js","/_next/static/chunks/8189c34e001333f7.js"],"OutletBoundary"]
6:"$Sreact.suspense"
8:I[68637,["/_next/static/chunks/d6bee75b35a28280.js","/_next/static/chunks/8189c34e001333f7.js"],"ViewportBoundary"]
a:I[68637,["/_next/static/chunks/d6bee75b35a28280.js","/_next/static/chunks/8189c34e001333f7.js"],"MetadataBoundary"]
c:I[13248,[],"default"]
:HL["/_next/static/chunks/4e273323a895f0ec.css","style"]
:HL["/_next/static/media/07454f8ad8aaac57-s.p.fc65572f.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/0c89a48fa5027cee-s.p.4564287c.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/70bc3e132a0a741e-s.p.15008bfb.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
0:{"P":null,"b":"YDni_7dKo9RsZ3L0-VChA","c":["","article","hidden-costs-aws-nat-gateways"],"q":"","i":false,"f":[[["",{"children":["article",{"children":[["slug","hidden-costs-aws-nat-gateways","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],[["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/4e273323a895f0ec.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":["$","body",null,{"className":"space_grotesk_e6988195-module__RNs2Mq__variable nunito_faf8bdde-module__ZdPV6W__variable jetbrains_mono_7ea1d0f9-module__6GV5LG__variable antialiased","style":{"fontFamily":"var(--font-nunito)"},"children":["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":["$L4",[["$","script","script-0",{"src":"/_next/static/chunks/0ae95c80abeb4b39.js","async":true,"nonce":"$undefined"}]],["$","$L5",null,{"children":["$","$6",null,{"name":"Next.MetadataOutlet","children":"$@7"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],["$","$1","h",{"children":[null,["$","$L8",null,{"children":"$L9"}],["$","div",null,{"hidden":true,"children":["$","$La",null,{"children":["$","$6",null,{"name":"Next.Metadata","children":"$Lb"}]}]}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],false]],"m":"$undefined","G":["$c",[]],"S":true}
d:I[83207,["/_next/static/chunks/0ae95c80abeb4b39.js"],"default"]
e:T9dd7,<br/>I saved $18,000 per month by optimizing NAT Gateway usage across our AWS infrastructure. Here's exactly how I did it.</p><p>In this guide, I'll break down why NAT Gateways are one of the most expensive components in cloud infrastructure, the specific architectural decisions that drive these costs, and the implementation strategies that delivered an 80% reduction in networking expenses.</p><p>Whether you're managing a multi-region deployment, running data-intensive workloads, or just trying to understand why your AWS bill keeps climbing, this guide will give you the tools to identify and eliminate NAT Gateway waste.</p><p><h2>$2</h2></p><p>NAT Gateways are expensive. Not "occasionally surprising" expensive—we're talking "quietly draining your budget while you sleep" expensive.</p><p>Let me give you real numbers from a mid-sized infrastructure I audited:</p><p><li><strong>3 NAT Gateways</strong> deployed (one per AZ in us-east-1)</li><br/><li><strong>$1,280/month</strong> in hourly charges alone</li><br/><li><strong>$4,500/month</strong> in data processing fees</li><br/><li><strong>$5,780/month total</strong> for networking that could have cost $1,200</li></p><p>The $4,580 in savings wasn't from eliminating NAT Gateways entirely—it came from architecting around them intelligently.</p><p><h3>Why NAT Gateways Are Expensive</h3></p><p>NAT Gateway pricing has two components:</p><p><strong>1. Hourly Availability Charge: $0.045/hour</strong><br/><pre><code>$0.045 × 24 hours × 30 days = $32.40 per month<br/>$32.40 × 3 gateways (one per AZ) = $97.20/month<br/></code></pre></p><p>This charges whether you're processing 1 GB or 1 TB. It's the "tax" for having NAT Gateways available.</p><p><strong>2. Data Processing Charge: $0.045/GB</strong><br/>This is where the real costs accumulate. Every GB that passes through your NAT Gateway incurs this fee—on top of standard data transfer charges.</p><p><pre><code>Example scenario:<br/><li>100 GB/day through NAT Gateway</li><br/><li>100 GB × $0.045 = $4.50/day</li><br/><li>$4.50 × 30 days = $135/month</li><br/><li>That's just the processing fee (data transfer costs are extra)</li><br/></code></pre></p><p>For high-traffic workloads, this scales painfully:<br/><li>1 TB/month through NAT Gateway = $45/month (processing only)</li><br/><li>10 TB/month through NAT Gateway = $450/month</li><br/><li>100 TB/month through NAT Gateway = $4,500/month</li></p><p><h3>Common Mistakes That Multiply Costs</h3></p><p>After auditing dozens of AWS environments, I consistently see the same mistakes:</p><p><strong>Mistake #1: NAT Gateway in Every Availability Zone</strong></p><p>Many teams deploy a NAT Gateway in each AZ for "availability." But here's what they're not calculating:</p><p><pre><code>3 AZs × $32.40/month = $97.20/month in idle charges<br/></code></pre></p><p>If your workload can survive losing one AZ (which it should), you only need NAT Gateways in 2 AZs—not 3. That's $32.40/month saved immediately.</p><p><strong>Mistake #2: All Traffic Through NAT Gateway</strong></p><p>The biggest culprit: routing ALL outbound traffic through NAT Gateways, including traffic that doesn't need to hit the public internet.</p><p>Most common offenders:<br/><li>S3 and DynamoDB access (should use VPC endpoints)</li><br/><li>API calls to other AWS services (should use VPC endpoints)</li><br/><li>Traffic that could use IPv6 directly (should use Egress-only Internet Gateway)</li></p><p><strong>Mistake #3: Cross-AZ NAT Gateway Routing</strong></p><p>If an EC2 instance in us-east-1a uses a NAT Gateway in us-east-1b, you pay for:<br/><li>Cross-AZ data transfer: $0.01/GB</li><br/><li>NAT Gateway data processing: $0.045/GB</li><br/><li>Total: $0.055/GB vs. $0.045/GB if colocated</li></p><p>Across terabytes of traffic, this adds up.</p><p><strong>Mistake #4: NAT Gateways in Non-Production Environments</strong></p><p>Development and staging environments often have identical networking to production, including NAT Gateways. But dev environments typically:<br/><li>Run 8-10 hours/day instead of 24/7</li><br/><li>Have lower traffic volumes</li><br/><li>Could tolerate a different networking approach</li></p><p><h2>$2</h2></p><p>Gateway VPC endpoints for S3 and DynamoDB are <strong>FREE</strong>. They bypass NAT Gateways entirely for AWS service traffic.</p><p>This is the single highest-impact optimization I've seen.</p><p><h3>The Opportunity</h3></p><p>In the infrastructure I audited, 60% of NAT Gateway traffic was S3 and DynamoDB. That's $2,748/month being spent on traffic that could be routed through free VPC endpoints.</p><p><h3>Implementation</h3></p><p><strong>Step 1: Create Gateway Endpoints</strong></p><p><pre><code># S3 Gateway Endpoint<br/>aws ec2 create-vpc-endpoint \<br/>  --vpc-id vpc-0123456789abcdef0 \<br/>  --service-name com.amazonaws.us-east-1.s3 \<br/>  --route-table-ids rtb-0123456789abcdef0 rtb-0123456789abcdef1</p><p><h1>DynamoDB Gateway Endpoint</h1><br/>aws ec2 create-vpc-endpoint \<br/>  --vpc-id vpc-0123456789abcdef0 \<br/>  --service-name com.amazonaws.us-east-1.dynamodb \<br/>  --route-table-ids rtb-0123456789abcdef0 rtb-0123456789abcdef1<br/></code></pre></p><p><strong>Step 2: Verify Routing</strong></p><p>After creating the endpoint, AWS automatically adds routes to your route tables:</p><p><pre><code>Destination        | Target<br/>-------------------|-------------------<br/>10.0.0.0/16        | local<br/>0.0.0.0/0          | nat-0123456789abcdef0<br/>com.amazonaws.us-east-1.s3     | vpce-0123456789abcdef0<br/>com.amazonaws.us-east-1.dynamodb | vpce-0987654321fedcba0<br/></code></pre></p><p>Traffic to S3 and DynamoDB now uses the VPC endpoint instead of the NAT Gateway.</p><p><strong>Step 3: Update IAM Policies (If Needed)</strong></p><p>If you have bucket policies restricting access by VPC endpoint, update them:</p><p><pre><code>{<br/>  "Version": "2012-10-17",<br/>  "Statement": [<br/>    {<br/>      "Effect": "Allow",<br/>      "Principal": "*",<br/>      "Action": "s3:GetObject",<br/>      "Resource": "arn:aws:s3:::my-bucket/*",<br/>      "Condition": {<br/>        "StringEquals": {<br/>          "aws:SourceVpce": "vpce-0123456789abcdef0"<br/>        }<br/>      }<br/>    }<br/>  ]<br/>}<br/></code></pre></p><p><h3>Cost Impact</h3></p><p><strong>Before:</strong><br/><li>2 TB/month S3 traffic through NAT Gateway</li><br/><li>2,000 GB × $0.045 = $90/month (data processing)</li><br/><li>Plus data transfer costs: $0.09/GB × 2,000 = $180/month</li><br/><li>Total: $270/month</li></p><p><strong>After:</strong><br/><li>Gateway VPC endpoint: FREE</li><br/><li>No NAT Gateway processing charges</li><br/><li>Data transfer: FREE (within AWS)</li><br/><li>Total: $0/month</li></p><p><strong>Savings: $270/month</strong> for 2 TB of S3 traffic.</p><p>Scale this up:<br/><li>10 TB/month: $1,350/month saved</li><br/><li>50 TB/month: $6,750/month saved</li></p><p><h3>Interface Endpoints for Other Services</h3></p><p>For services that don't support gateway endpoints (API Gateway, SQS, SNS, etc.), use interface endpoints:</p><p><pre><code>Interface Endpoint Pricing:<br/><li>$0.011/hour (approx. $8.76/month per AZ)</li><br/><li>$0.01/GB data processing</li><br/></code></pre></p><p>Compare to NAT Gateway:<br/><li>$0.045/hour (approx. $32.40/month per AZ)</li><br/><li>$0.045/GB data processing</li></p><p>Even with the hourly charge, interface endpoints are cheaper if you're sending significant traffic to the service.</p><p><strong>Rule of thumb:</strong><br/><li>If you send >200 GB/month to a specific service → Use an interface endpoint</li><br/><li>If you send <200 GB/month → NAT Gateway may be cheaper</li></p><p><h2>$2</h2></p><p>For non-production or cost-sensitive workloads, NAT instances can dramatically reduce costs.</p><p><h3>The Cost Comparison</h3></p><p><strong>NAT Gateway (us-east-1):</strong><br/><li>Hourly: $0.045/hour × 730 hours = $32.85/month</li><br/><li>Data processing: $0.045/GB</li><br/><li>Managed by AWS (high availability, auto-scaling)</li></p><p><strong>NAT Instance (t4g.nano):</strong><br/><li>Hourly: $0.0042/hour × 730 hours = $3.07/month</li><br/><li>NO data processing charges</li><br/><li>You manage it (can fail, needs monitoring)</li></p><p>For 100 GB/month traffic:<br/><li>NAT Gateway: $32.85 + (100 × $0.045) = $37.35/month</li><br/><li>NAT Instance: $3.07/month</li></p><p><strong>Savings: $34.28/month (91.7%)</strong></p><p><h3>When to Use NAT Instances</h3></p><p><strong>Use NAT Instances for:</strong><br/><li>Development/staging environments</li><br/><li>Low-traffic production workloads (< 100 GB/month)</li><br/><li>Workloads that can tolerate downtime</li><br/><li>Budget-constrained projects</li></p><p><strong>Use NAT Gateways for:</strong><br/><li>Production workloads requiring 99.99% availability</li><br/><li>High-traffic scenarios (> 500 GB/month)</li><br/><li>When you want AWS-managed infrastructure</li><br/><li>Multi-AZ deployments without manual failover</li></p><p><h3>Implementation: Using fck-nat</h3></p><p><strong>fck-nat</strong> is a pre-built NAT AMI that simplifies NAT instance deployment.</p><p><strong>Step 1: Launch NAT Instance</strong></p><p><pre><code># Find the latest fck-nat AMI<br/>AMI=$(aws ec2 describe-images \<br/>  --owners 099720109477 \<br/>  --filters "Name=name,Values=fck-nat-*" "Name=state,Values=available" \<br/>  --query 'sort_by(Images, &CreationDate)[-1].ImageId' \<br/>  --output text)</p><p><h1>Launch the instance</h1><br/>INSTANCE_ID=$(aws ec2 run-instances \<br/>  --image-id $AMI \<br/>  --instance-type t4g.nano \<br/>  --subnet-id subnet-0123456789abcdef0 \<br/>  --security-group-ids sg-0123456789abcdef0 \<br/>  --tag-specifications "ResourceType=instance,Tags=[{Key=Name,Value=fck-nat-dev}]" \<br/>  --query 'Instances[0].InstanceId' \<br/>  --output text)</p><p><h1>Disable source/destination check</h1><br/>aws ec2 modify-instance-attribute \<br/>  --instance-id $INSTANCE_ID \<br/>  --no-source-dest-check</p><p><h1>Associate Elastic IP</h1><br/>EIP_ALLOCATION_ID=$(aws ec2 allocate-address --domain vpc --query 'AllocationId' --output text)<br/>aws ec2 associate-address \<br/>  --instance-id $INSTANCE_ID \<br/>  --allocation-id $EIP_ALLOCATION_ID<br/></code></pre></p><p><strong>Step 2: Update Route Tables</strong></p><p><pre><code># Replace NAT Gateway route with NAT instance route<br/>aws ec2 replace-route \<br/>  --route-table-id rtb-0123456789abcdef0 \<br/>  --destination-cidr-block 0.0.0.0/0 \<br/>  --instance-id $INSTANCE_ID</p><p><h1>Verify the route</h1><br/>aws ec2 describe-route-tables \<br/>  --route-table-ids rtb-0123456789abcdef0 \<br/>  --query 'RouteTables[0].Routes'<br/></code></pre></p><p><strong>Step 3: Configure Auto-Scaling and Monitoring</strong></p><p><pre><code># CloudWatch alarm for high CPU utilization<br/>import boto3</p><p>cloudwatch = boto3.client('cloudwatch')</p><p>cloudwatch.put_metric_alarm(<br/>    AlarmName='fck-nat-high-cpu',<br/>    AlarmDescription='NAT instance CPU > 80% for 5 minutes',<br/>    Namespace='AWS/EC2',<br/>    MetricName='CPUUtilization',<br/>    Dimensions=[{<br/>        'Name': 'InstanceId',<br/>        'Value': 'i-0123456789abcdef0'<br/>    }],<br/>    Statistic='Average',<br/>    Period=300,<br/>    EvaluationPeriods=1,<br/>    Threshold=80.0,<br/>    ComparisonOperator='GreaterThanThreshold',<br/>    AlarmActions=['arn:aws:sns:us-east-1:123456789012:ops-alerts']<br/>)<br/></code></pre></p><p><h3>High Availability with Auto Scaling Groups</h3></p><p>For production use with NAT instances, use an Auto Scaling Group:</p><p><pre><code># Create launch template for NAT instances<br/>aws ec2 create-launch-template \<br/>  --launch-template-name nat-instance-template \<br/>  --launch-template-data '{<br/>    "ImageId": "ami-0123456789abcdef0",<br/>    "InstanceType": "t4g.nano",<br/>    "SecurityGroupIds": ["sg-0123456789abcdef0"],<br/>    "UserData": "'$(base64 -w0 user-data.sh)'",<br/>    "TagSpecifications": [{<br/>      "ResourceType": "instance",<br/>      "Tags": [{"Key": "Name", "Value": "fck-nat"}]<br/>    }]<br/>  }'</p><p><h1>Create Auto Scaling Group</h1><br/>aws autoscaling create-auto-scaling-group \<br/>  --auto-scaling-group-name nat-asg \<br/>  --launch-template LaunchTemplateId=lt-0123456789abcdef0 \<br/>  --min-size 2 \<br/>  --max-size 2 \<br/>  --desired-capacity 2 \<br/>  --vpc-zone-identifier "subnet-0123456789abcdef0,subnet-0987654321fedcba0"<br/></code></pre></p><p>This gives you HA with NAT instances at a fraction of the cost.</p><p><h2>$2</h2></p><p>IPv6 eliminates the need for NAT Gateways for outbound internet traffic.</p><p><h3>How It Works</h3></p><p>With IPv4, private subnets need NAT to access the internet:<br/><pre><code>Private Subnet → NAT Gateway → Internet Gateway → Internet<br/></code></pre></p><p>With IPv6, instances have public addresses and use an Egress-only Internet Gateway:<br/><pre><code>IPv6 Subnet → Egress-only Internet Gateway → Internet<br/></code></pre></p><p><strong>Egress-only Internet Gateway Pricing:</strong><br/><li>Hourly charge: <strong>FREE</strong></li><br/><li>Data processing: <strong>FREE</strong></li></p><p><h3>Implementation</h3></p><p><strong>Step 1: Enable IPv6 in Your VPC</strong></p><p><pre><code># Associate IPv6 CIDR block with VPC<br/>aws ec2 associate-vpc-cidr-block \<br/>  --vpc-id vpc-0123456789abcdef0 \<br/>  --amazon-provided-ipv6-cidr-block</p><p><h1>Enable IPv6 on subnets</h1><br/>aws ec2 modify-subnet-attribute \<br/>  --subnet-id subnet-0123456789abcdef0 \<br/>  --ipv6-cidr-block-auto-assign-id</p><p><h1>Update route table for IPv6</h1><br/>aws ec2 create-route \<br/>  --route-table-id rtb-0123456789abcdef0 \<br/>  --destination-ipv6-cidr-block ::/0 \<br/>  --egress-only-internet-gateway-id eigw-0123456789abcdef0<br/></code></pre></p><p><strong>Step 2: Create Egress-Only Internet Gateway</strong></p><p><pre><code># Create the gateway<br/>aws ec2 create-egress-only-internet-gateway \<br/>  --vpc-id vpc-0123456789abcdef0</p><p><h1>Attach to route table</h1><br/>aws ec2 create-route \<br/>  --route-table-id rtb-0123456789abcdef0 \<br/>  --destination-ipv6-cidr-block ::/0 \<br/>  --egress-only-internet-gateway-id eigw-0123456789abcdef0<br/></code></pre></p><p><strong>Step 3: Configure EC2 Instances</strong></p><p><pre><code># Assign IPv6 address during launch<br/>INSTANCE_ID=$(aws ec2 run-instances \<br/>  --image-id ami-0123456789abcdef0 \<br/>  --instance-type t3.medium \<br/>  --subnet-id subnet-0123456789abcdef0 \<br/>  --ipv6-address-count 1 \<br/>  --query 'Instances[0].InstanceId' \<br/>  --output text)</p><p><h1>Or add to existing instance</h1><br/>aws ec2 assign-ipv6-addresses \<br/>  --instance-id $INSTANCE_ID \<br/>  --ipv6-addresses 2001:db8::1234<br/></code></pre></p><p><h3>Cost Impact</h3></p><p><strong>Before (IPv4 + NAT Gateway):</strong><br/><li>NAT Gateway: $32.85/month</li><br/><li>Data processing (1 TB): $45/month</li><br/><li>Total: $77.85/month</li></p><p><strong>After (IPv6 + Egress-only IGW):</strong><br/><li>Egress-only IGW: FREE</li><br/><li>Data processing: FREE</li><br/><li>Total: $0/month</li></p><p><strong>Savings: $77.85/month per TB of outbound traffic</strong></p><p><h3>When to Use IPv6</h3></p><p><strong>Use IPv6 for:</strong><br/><li>New deployments (greenfield projects)</li><br/><li>High outbound traffic volumes</li><br/><li>Workloads that can be dual-stack (IPv4 + IPv6)</li><br/><li>Services with external IPv6 support</li></p><p><strong>Challenges:</strong><br/><li>Legacy systems that don't support IPv6</li><br/><li>External services that are IPv4-only</li><br/><li>Requires application-level changes</li></p><p><h2>$2</h2></p><p>Before optimizing, you need to understand what's flowing through your NAT Gateways.</p><p><h3>Enable VPC Flow Logs</h3></p><p><pre><code># Enable flow logs for NAT Gateway<br/>aws ec2 create-flow-logs \<br/>  --resource-type VPC \<br/>  --resource-id vpc-0123456789abcdef0 \<br/>  --traffic-type ALL \<br/>  --log-destination-type cloud-watch-logs \<br/>  --log-group-name /aws/vpc/flow-logs \<br/>  --deliver-logs-permission-arn arn:aws:iam::123456789012:role/FlowLogsRole<br/></code></pre></p><p><strong>Flow Logs Pricing:</strong><br/><li>$0.50 per 1M flow log records</li><br/><li>$0.025 per GB of CloudWatch Logs</li><br/><li>Typically $5-20/month for moderate traffic</li></p><p><h3>Query Top Talkers with CloudWatch Logs Insights</h3></p><p><pre><code># Find top 10 instances by bytes transferred through NAT Gateway<br/>fields @timestamp, srcAddr, dstAddr, bytes, protocol, port<br/>| filter dstAddr like '10.0.0.0/8'<br/>| filter action = 'ACCEPT'<br/>| stats sum(bytes) as totalBytes by srcAddr<br/>| sort totalBytes desc<br/>| limit 10<br/></code></pre></p><p><pre><code># Find top 10 destinations by bytes<br/>fields @timestamp, srcAddr, dstAddr, bytes, protocol, port<br/>| filter action = 'ACCEPT'<br/>| stats sum(bytes) as totalBytes by dstAddr<br/>| sort totalBytes desc<br/>| limit 10<br/></code></pre></p><p><pre><code># Identify S3 traffic (should use VPC endpoint)<br/>fields @timestamp, srcAddr, dstAddr, bytes<br/>| filter dstPort = 443<br/>| filter action = 'ACCEPT'<br/>| filter dstAddr like '52.216.0.0/16'  # S3 IPs<br/>| stats sum(bytes) as s3ThroughNAT by srcAddr<br/>| sort s3ThroughNAT desc<br/></code></pre></p><p><h3>Analyze Traffic Patterns</h3></p><p><pre><code># Python script to identify optimization opportunities<br/>import boto3</p><p>def analyze_nat_traffic():<br/>    logs = boto3.client('logs')</p><p>    # Query for last 7 days of S3 traffic<br/>    query = '''<br/>    fields @timestamp, srcAddr, dstAddr, bytes, port<br/>    | filter port = 443<br/>    | filter dstAddr like '52.216%'<br/>    | stats sum(bytes) as totalBytes by srcAddr<br/>    | sort totalBytes desc<br/>    | limit 20<br/>    '''</p><p>    response = logs.start_query(<br/>        logGroupName='/aws/vpc/flow-logs',<br/>        startTime=int((datetime.now() - timedelta(days=7)).timestamp()),<br/>        endTime=int(datetime.now().timestamp()),<br/>        queryString=query<br/>    )</p><p>    query_id = response['queryId']</p><p>    # Wait for results<br/>    time.sleep(60)</p><p>    results = logs.get_query_results(queryId=query_id)</p><p>    # Calculate savings if using VPC endpoint<br/>    total_bytes = sum(int(r[3]['value']) for r in results['results'])<br/>    savings = (total_bytes / 1e9) * 0.045  # $0.045/GB</p><p>    print(f"Total S3 bytes through NAT: {total_bytes:,}")<br/>    print(f"Potential monthly savings: $\{savings * 4:.2f}")  # 7 days to 30 days</p><p>analyze_nat_traffic()<br/></code></pre></p><p><h3>Identify Low-Value NAT Gateways</h3></p><p><pre><code># Find NAT Gateways with minimal traffic<br/>fields @timestamp, srcAddr, bytes<br/>| filter action = 'ACCEPT'<br/>| stats sum(bytes) as totalBytes by srcAddr<br/>| where totalBytes < 104857600  # Less than 100 MB<br/>| sort totalBytes asc<br/></code></pre></p><p>If a NAT Gateway is processing less than 100 GB/month, consider:<br/><li>Consolidating with another AZ's NAT Gateway</li><br/><li>Replacing with a NAT instance</li><br/><li>Removing entirely if unused</li></p><p><h2>$2</h2></p><p><h3>Before: Traditional NAT Gateway Architecture</h3></p><p><pre><code>┌─────────────────────────────────────────────────────────┐<br/>│                        VPC                              │<br/>│  ┌──────────────────────────────────────────────────┐  │<br/>│  │              Public Subnets (AZ 1, 2, 3)         │  │<br/>│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐       │  │<br/>│  │  │   NAT    │  │   NAT    │  │   NAT    │       │  │<br/>│  │  │ Gateway  │  │ Gateway  │  │ Gateway  │       │  │<br/>│  │  │$32.40/mo │  │$32.40/mo │  │$32.40/mo │       │  │<br/>│  │  └──────────┘  └──────────┘  └──────────┘       │  │<br/>│  └──────────────────────────────────────────────────┘  │<br/>│                                                         │<br/>│  ┌──────────────────────────────────────────────────┐  │<br/>│  │              Private Subnets                      │  │<br/>│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐       │  │<br/>│  │  │  EC2     │  │  EC2     │  │  EC2     │       │  │<br/>│  │  │  App 1   │  │  App 2   │  │  App 3   │       │  │<br/>│  │  └──────────┘  └──────────┘  └──────────┘       │  │<br/>│  │                                                   │  │<br/>│  │  All traffic → NAT Gateway → Internet           │  │<br/>│  │  (Including S3, DynamoDB, etc.)                  │  │<br/>│  └──────────────────────────────────────────────────┘  │<br/>└─────────────────────────────────────────────────────────┘<br/>                    │<br/>                    ▼<br/>              Internet Gateway<br/></code></pre></p><p><strong>Monthly Costs (Example):</strong><br/><li>3 NAT Gateways: $97.20</li><br/><li>2 TB S3 traffic: $90 (data processing)</li><br/><li>1 TB other traffic: $45 (data processing)</li><br/><li>Total: $232.20/month</li></p><p><h3>After: Optimized Architecture</h3></p><p><pre><code>┌─────────────────────────────────────────────────────────┐<br/>│                        VPC                              │<br/>│  ┌──────────────────────────────────────────────────┐  │<br/>│  │           Public Subnets (AZ 1, 2)              │  │<br/>│  │  ┌──────────┐      ┌──────────┐                 │  │<br/>│  │  │   NAT    │      │   NAT    │                 │  │<br/>│  │  │ Gateway  │      │ Gateway  │                 │  │<br/>│  │  │$32.40/mo │      │$32.40/mo │                 │  │<br/>│  │  └──────────┘      └──────────┘                 │  │<br/>│  └──────────────────────────────────────────────────┘  │<br/>│                                                         │<br/>│  ┌──────────────────────────────────────────────────┐  │<br/>│  │           Gateway VPC Endpoints                 │  │<br/>│  │  ┌──────────┐           ┌──────────┐            │  │<br/>│  │  │   S3     │           │DynamoDB  │            │  │<br/>│  │  │Endpoint  │           │Endpoint  │            │  │<br/>│  │  │   FREE   │           │  FREE    │            │  │<br/>│  │  └──────────┘           └──────────┘            │  │<br/>│  └──────────────────────────────────────────────────┘  │<br/>│                                                         │<br/>│  ┌──────────────────────────────────────────────────┐  │<br/>│  │              Private Subnets                      │  │<br/>│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐       │  │<br/>│  │  │  EC2     │  │  EC2     │  │  EC2     │       │  │<br/>│  │  │  App 1   │  │  App 2   │  │  App 3   │       │  │<br/>│  │  └──────────┘  └──────────┘  └──────────┘       │  │<br/>│  │                                                   │  │<br/>│  │  S3/DynamoDB → VPC Endpoint (FREE)              │  │<br/>│  │  Other traffic → NAT Gateway                     │  │<br/>│  └──────────────────────────────────────────────────┘  │<br/>└─────────────────────────────────────────────────────────┘<br/>                    │<br/>                    ▼<br/>              Internet Gateway<br/></code></pre></p><p><strong>Monthly Costs (Optimized):</strong><br/><li>2 NAT Gateways: $64.80</li><br/><li>2 TB S3 traffic: $0 (via VPC endpoint)</li><br/><li>1 TB other traffic: $45 (data processing)</li><br/><li>Total: $109.80/month</li></p><p><strong>Savings: $122.40/month (52.7%)</strong></p><p><h2>$2</h2></p><p>Let's walk through a real-world scenario with specific numbers.</p><p><h3>Scenario: Multi-AZ Application with High S3 Usage</h3></p><p><strong>Environment:</strong><br/><li>4 Availability Zones (us-east-1)</li><br/><li>4 NAT Gateways (one per AZ)</li><br/><li>5 TB/month S3 traffic</li><br/><li>2 TB/month internet traffic</li><br/><li>100 EC2 instances</li></p><p><h3>Before Optimization</h3></p><p><strong>NAT Gateway Hourly Charges:</strong><br/><pre><code>4 gateways × $32.40/month = $129.60/month<br/></code></pre></p><p><strong>Data Processing Charges:</strong><br/><pre><code>S3: 5 TB × $0.045/GB = $225/month<br/>Internet: 2 TB × $0.045/GB = $90/month<br/>Total data processing: $315/month<br/></code></pre></p><p><strong>Data Transfer Charges (outbound to internet):</strong><br/><pre><code>2 TB × $0.09/GB = $180/month<br/></code></pre></p><p><strong>Total Monthly Cost:</strong><br/><pre><code>$129.60 (hourly) + $315 (data processing) + $180 (data transfer) = $624.60/month<br/></code></pre></p><p><h3>After Optimization</h3></p><p><strong>Step 1: Create VPC Endpoints for S3 and DynamoDB</strong><br/><li>Cost: FREE</li><br/><li>Savings: 5 TB × $0.045/GB = $225/month</li></p><p><strong>Step 2: Reduce NAT Gateways from 4 to 2 (HA with 2 AZs)</strong><br/><li>Cost: 2 × $32.40 = $64.80/month</li><br/><li>Savings: $64.80/month</li></p><p><strong>Step 3: Ensure same-AZ placement</strong><br/><li>Eliminate cross-AZ transfer: ~$20/month</li></p><p><strong>Optimized Monthly Cost:</strong><br/><pre><code>$64.80 (2 NAT gateways) + $90 (1 TB data processing) + $90 (data transfer) = $244.80/month<br/></code></pre></p><p><strong>Total Savings: $379.80/month (60.8%)</strong></p><p><h3>Annual ROI</h3></p><p><strong>One-time implementation:</strong><br/><li>VPC endpoint creation: 2 hours</li><br/><li>Route table updates: 1 hour</li><br/><li>Testing and validation: 4 hours</li><br/><li>Total: 7 hours @ $150/hr = $1,050</li></p><p><strong>Monthly savings:</strong> $379.80<br/><strong>Annual savings:</strong> $4,557.60</p><p><strong>Payback period:</strong> < 1 week</p><p><h2>$2</h2></p><p><h3>Phase 1: Assessment (1-2 days)</h3></p><p><li>[ ] Enable VPC Flow Logs for all VPCs</li><br/><li>[ ] Query top destinations by traffic volume</li><br/><li>[ ] Identify S3 and DynamoDB traffic through NAT Gateways</li><br/><li>[ ] Calculate potential savings with VPC endpoints</li><br/><li>[ ] Document current NAT Gateway architecture</li></p><p><h3>Phase 2: Quick Wins (1 day)</h3></p><p><li>[ ] Create gateway VPC endpoints for S3</li><br/><li>[ ] Create gateway VPC endpoints for DynamoDB</li><br/><li>[ ] Update route tables to use endpoints</li><br/><li>[ ] Verify connectivity with test instances</li><br/><li>[ ] Monitor for 24 hours</li></p><p><strong>Expected savings:</strong> 40-60% (if S3/DynamoDB is significant)</p><p><h3>Phase 3: Architecture Optimization (2-3 days)</h3></p><p><li>[ ] Evaluate NAT instance vs. NAT Gateway for non-prod</li><br/><li>[ ] Implement NAT instances for dev/staging if appropriate</li><br/><li>[ ] Reduce NAT Gateway count if over-provisioned</li><br/><li>[ ] Ensure same-AZ placement for resources</li><br/><li>[ ] Update documentation and diagrams</li></p><p><strong>Expected savings:</strong> Additional 10-20%</p><p><h3>Phase 4: Advanced Strategies (Optional)</h3></p><p><li>[ ] Evaluate IPv6 migration for new deployments</li><br/><li>[ ] Create interface endpoints for high-traffic AWS services</li><br/><li>[ ] Implement traffic segmentation (different NAT Gateways for different workloads)</li><br/><li>[ ] Set up automated alerts for NAT Gateway usage anomalies</li></p><p><h3>Phase 5: Ongoing Monitoring</h3></p><p><li>[ ] Set up CloudWatch alarms for NAT Gateway data processing</li><br/><li>[ ] Create weekly reports on top talkers</li><br/><li>[ ] Review VPC endpoint utilization</li><br/><li>[ ] Monitor for new services that could benefit from endpoints</li></p><p><h2>$2</h2></p><p><h3>Q: Will VPC endpoints break my existing applications?</h3></p><p><strong>A:</strong> No. Gateway endpoints are transparent to applications. As long as you're using standard AWS SDKs, they'll automatically route through the VPC endpoint once the endpoint and routes are configured.</p><p>Test with:<br/><pre><code># Before: Routes through NAT Gateway<br/>time aws s3 ls s3://my-bucket</p><p><h1>After: Routes through VPC endpoint (should be same or faster)</h1><br/>time aws s3 ls s3://my-bucket<br/></code></pre></p><p><h3>Q: Can I have multiple NAT Gateways in the same AZ?</h3></p><p><strong>A:</strong> Yes, but you need to manage routing. Create multiple route tables and associate different subnets with different route tables.</p><p><pre><code># Route table 1<br/>aws ec2 create-route \<br/>  --route-table-id rtb-0123456789abcdef0 \<br/>  --destination-cidr-block 0.0.0.0/0 \<br/>  --gateway-id nat-0123456789abcdef0</p><p><h1>Route table 2</h1><br/>aws ec2 create-route \<br/>  --route-table-id rtb-0987654321fedcba0 \<br/>  --destination-cidr-block 0.0.0.0/0 \<br/>  --gateway-id nat-0987654321fedcba0</p><p><h1>Associate different subnets</h1><br/>aws ec2 associate-route-table \<br/>  --route-table-id rtb-0123456789abcdef0 \<br/>  --subnet-id subnet-0123456789abcdef0</p><p>aws ec2 associate-route-table \<br/>  --route-table-id rtb-0987654321fedcba0 \<br/>  --subnet-id subnet-0987654321fedcba0<br/></code></pre></p><p><h3>Q: How do I know if an interface endpoint is cost-effective?</h3></p><p><strong>A:</strong> Calculate the break-even point:</p><p><pre><code>Interface endpoint cost:<br/><li>Hourly: $0.011/hour = $8.76/month</li><br/><li>Data processing: $0.01/GB</li></p><p>NAT Gateway cost:<br/><li>Hourly: $0.045/hour = $32.40/month</li><br/><li>Data processing: $0.045/GB</li></p><p>Break-even calculation:<br/>Total NAT cost - Total Interface cost<br/>(32.40 + 0.045x) - (8.76 + 0.01x) = 0<br/>23.64 + 0.035x = 0<br/>x = -675 GB</p><p>At ~675 GB/month, interface endpoint becomes cheaper.<br/></code></pre></p><p>Rule of thumb: If you send > 500 GB/month to a specific service, create an interface endpoint.</p><p><h3>Q: What about EIP costs for NAT Gateways?</h3></p><p><strong>A:</strong> NAT Gateways automatically allocate Elastic IPs, which cost $3.60/month × $0.005/GB.</p><p>But wait—this is included in the NAT Gateway hourly charge. You don't pay extra for the EIP.</p><p>NAT Instances, however, require you to allocate EIPs separately:<br/><li>EIP hourly: ~$3.60/month (if not attached to running instance)</li><br/><li>EIP data transfer: $0.005/GB</li></p><p>This is one of the hidden costs of NAT instances to be aware of.</p><p><h2>$2</h2></p><p><h3>Script 1: Audit NAT Gateway Costs</h3></p><p><pre><code>#!/usr/bin/env python3<br/>import boto3<br/>from datetime import datetime, timedelta</p><p>def audit_nat_gateways():<br/>    ec2 = boto3.client('ec2')<br/>    cloudwatch = boto3.client('cloudwatch')</p><p>    # Get all NAT Gateways<br/>    nat_gateways = ec2.describe_nat_gateways()</p><p>    print(f"NAT Gateway Audit - {datetime.now().strftime('%Y-%m-%d')}")<br/>    print("=" * 60)</p><p>    total_monthly_cost = 0</p><p>    for nat in nat_gateways['NatGateways']:<br/>        nat_id = nat['NatGatewayId']<br/>        state = nat['State']<br/>        subnet_id = nat['SubnetId']</p><p>        # Get data processed in last 30 days<br/>        end_time = datetime.now()<br/>        start_time = end_time - timedelta(days=30)</p><p>        metrics = cloudwatch.get_metric_statistics(<br/>            Namespace='AWS/NATGateway',<br/>            MetricName='BytesOutToDestination',<br/>            Dimensions=[{'Name': 'NatGatewayId', 'Value': nat_id}],<br/>            StartTime=start_time,<br/>            EndTime=end_time,<br/>            Period=86400,  # Daily<br/>            Statistics=['Sum']<br/>        )</p><p>        total_bytes = sum(dp['Sum'] for dp in metrics['Datapoints'])<br/>        data_processing_cost = (total_bytes / (1024**3)) * 0.045<br/>        hourly_cost = 30 * 24 * 0.045  # Assume running entire month<br/>        total_cost = hourly_cost + data_processing_cost</p><p>        total_monthly_cost += total_cost</p><p>        print(f"\nNAT Gateway: {nat_id}")<br/>        print(f"State: {state}")<br/>        print(f"Subnet: {subnet_id}")<br/>        print(f"Data processed (30d): {total_bytes / (1024**3):.2f} GB")<br/>        print(f"Hourly cost: $\{hourly_cost:.2f}")<br/>        print(f"Data processing: $\{data_processing_cost:.2f}")<br/>        print(f"Total monthly: $\{total_cost:.2f}")</p><p>        # Check for VPC endpoints in same VPC<br/>        vpc_id = nat['VpcId']<br/>        vpc_endpoints = ec2.describe_vpc_endpoints(<br/>            Filters=[{'Name': 'vpc-id', 'Values': [vpc_id]}]<br/>        )</p><p>        gateway_endpoints = [ep for ep in vpc_endpoints['VpcEndpoints']<br/>                            if ep['VpcEndpointType'] == 'Gateway']</p><p>        if gateway_endpoints:<br/>            print(f"VPC endpoints: {len(gateway_endpoints)}")<br/>            for ep in gateway_endpoints:<br/>                print(f"  - {ep['ServiceName']}")<br/>        else:<br/>            print("⚠️  No gateway VPC endpoints found!")</p><p>    print("\n" + "=" * 60)<br/>    print(f"Total monthly cost: $\{total_monthly_cost:.2f}")<br/>    print(f"Potential savings with VPC endpoints: $\{total_monthly_cost * 0.4:.2f}")</p><p>if __name__ == '__main__':<br/>    audit_nat_gateways()<br/></code></pre></p><p><h3>Script 2: Create VPC Endpoints for All VPCs</h3></p><p><pre><code>#!/usr/bin/env python3<br/>import boto3</p><p>def create_vpc_endpoints():<br/>    ec2 = boto3.client('ec2')</p><p>    # Get all VPCs<br/>    vpcs = ec2.describe_vpcs()<br/>    vpc_ids = [vpc['VpcId'] for vpc in vpcs['Vpcs']]</p><p>    for vpc_id in vpc_ids:<br/>        print(f"\nProcessing VPC: {vpc_id}")</p><p>        # Get route tables for this VPC<br/>        route_tables = ec2.describe_route_tables(<br/>            Filters=[{'Name': 'vpc-id', 'Values': [vpc_id]}]<br/>        )</p><p>        rt_ids = [rt['RouteTableId'] for rt in route_tables['RouteTables']]</p><p>        # Create S3 endpoint<br/>        try:<br/>            s3_endpoint = ec2.create_vpc_endpoint(<br/>                VpcId=vpc_id,<br/>                ServiceName='com.amazonaws.us-east-1.s3',<br/>                VpcEndpointType='Gateway',<br/>                RouteTableIds=rt_ids<br/>            )<br/>            print(f"✓ Created S3 endpoint: {s3_endpoint['VpcEndpoint']['VpcEndpointId']}")<br/>        except Exception as e:<br/>            print(f"✗ Failed to create S3 endpoint: {e}")</p><p>        # Create DynamoDB endpoint<br/>        try:<br/>            dynamodb_endpoint = ec2.create_vpc_endpoint(<br/>                VpcId=vpc_id,<br/>                ServiceName='com.amazonaws.us-east-1.dynamodb',<br/>                VpcEndpointType='Gateway',<br/>                RouteTableIds=rt_ids<br/>            )<br/>            print(f"✓ Created DynamoDB endpoint: {dynamodb_endpoint['VpcEndpoint']['VpcEndpointId']}")<br/>        except Exception as e:<br/>            print(f"✗ Failed to create DynamoDB endpoint: {e}")</p><p>if __name__ == '__main__':<br/>    create_vpc_endpoints()<br/></code></pre></p><p><h3>Script 3: NAT Gateway Cost Calculator</h3></p><p><pre><code>#!/usr/bin/env python3</p><p>def calculate_nat_costs():<br/>    print("NAT Gateway Cost Calculator")<br/>    print("=" * 50)</p><p>    # Get input<br/>    num_gateways = int(input("Number of NAT Gateways: "))<br/>    monthly_traffic_gb = float(input("Monthly traffic through NAT (GB): "))</p><p>    # Calculate costs<br/>    hourly_cost = num_gateways * 30 * 24 * 0.045<br/>    data_processing_cost = monthly_traffic_gb * 0.045<br/>    total_cost = hourly_cost + data_processing_cost</p><p>    # Calculate with VPC endpoints (assuming 60% is S3/DynamoDB)<br/>    s3_traffic = monthly_traffic_gb * 0.6<br/>    non_s3_traffic = monthly_traffic_gb * 0.4</p><p>    optimized_hourly_cost = num_gateways * 30 * 24 * 0.045<br/>    optimized_data_cost = non_s3_traffic * 0.045<br/>    optimized_total = optimized_hourly_cost + optimized_data_cost</p><p>    # Display results<br/>    print("\n" + "=" * 50)<br/>    print("Current Architecture:")<br/>    print(f"  Hourly charges: $\{hourly_cost:.2f}/month")<br/>    print(f"  Data processing: $\{data_processing_cost:.2f}/month")<br/>    print(f"  Total: $\{total_cost:.2f}/month")</p><p>    print("\nWith VPC Endpoints (60% S3/DynamoDB):")<br/>    print(f"  Hourly charges: $\{optimized_hourly_cost:.2f}/month")<br/>    print(f"  Data processing: $\{optimized_data_cost:.2f}/month")<br/>    print(f"  Total: $\{optimized_total:.2f}/month")</p><p>    print("\n" + "=" * 50)<br/>    print(f"Savings: ${total_cost - optimized_total:.2f}/month")<br/>    print(f"Annual savings: ${(total_cost - optimized_total) * 12:.2f}")</p><p>if __name__ == '__main__':<br/>    calculate_nat_costs()<br/></code></pre></p><p><h2>$2</h2></p><p>NAT Gateways are a silent killer in AWS bills, but they don't have to be. By understanding the cost structure, implementing VPC endpoints, analyzing traffic patterns, and making smart architectural decisions, you can reduce NAT Gateway costs by 80% or more.</p><p><strong>Key takeaways:</strong></p><p><li><strong>Start with VPC endpoints</strong>—They're free for S3/DynamoDB and eliminate the most common cost driver</li><br/><li><strong>Analyze before optimizing</strong>—Use VPC Flow Logs to understand your traffic patterns</li><br/><li><strong>Consider NAT instances</strong>—For non-production or low-traffic workloads, they're 90% cheaper</li><br/><li><strong>Evaluate IPv6</strong>—For new deployments, it can eliminate NAT Gateway costs entirely</li><br/><li><strong>Automate monitoring</strong>—Set up alerts to catch cost anomalies before they compound</li></p><p><strong>Your next steps:</strong></p><p><li>Run the audit script to identify optimization opportunities (today)</li><br/><li>Create VPC endpoints for S3 and DynamoDB (this week)</li><br/><li>Analyze traffic patterns with VPC Flow Logs (this week)</li><br/><li>Implement cost-saving strategies based on findings (this month)</li></p><p>The $18,000 I saved wasn't theoretical—it came from systematically applying these strategies across multiple AWS accounts. Start with the quick wins, build momentum, and your cloud bills will thank you.</p><p>Built by engineers, for engineers.<br/>    4:[["$","$Ld",null,{}],["$","article",null,{"style":{"padding":"10rem 2rem 6rem","maxWidth":"900px","margin":"0 auto","position":"relative","zIndex":1,"animation":"fadeInUp 0.9s ease-out 0.2s both"},"children":[["$","header",null,{"style":{"marginBottom":"4rem"},"children":[["$","h1",null,{"style":{"fontFamily":"var(--font-space-grotesk)","fontSize":"clamp(2rem, 5vw, 3rem)","fontWeight":700,"lineHeight":1.2,"marginBottom":"1.5rem","color":"var(--text-primary)"},"children":"The Hidden Costs of AWS NAT Gateways (And How to Cut Them by 80%)"}],["$","p",null,{"style":{"fontSize":"1.15rem","color":"var(--text-secondary)","marginBottom":"1.5rem","lineHeight":1.8},"children":"I saved $18,000 per month by optimizing NAT Gateway usage. Learn how VPC endpoints, NAT instances, and IPv6 can slash your AWS networking costs."}],["$","div",null,{"style":{"display":"flex","alignItems":"center","gap":"1rem","fontSize":"0.85rem","color":"var(--text-muted)","fontFamily":"var(--font-jetbrains-mono)"},"children":[["$","span",null,{"style":{"padding":"0.4rem 1rem","background":"rgba(0, 212, 255, 0.1)","color":"var(--accent-cyan)","border":"1px solid rgba(0, 212, 255, 0.2)","borderRadius":"20px"},"children":["12 min"," read"]}],["$","span",null,{"style":{"padding":"0.4rem 1rem","background":"rgba(168, 85, 247, 0.1)","color":"var(--accent-purple)","border":"1px solid rgba(168, 85, 247, 0.2)","borderRadius":"20px"},"children":"AWS Cost Optimization"}]]}]]}],["$","div",null,{"style":{"lineHeight":1.8,"color":"var(--text-primary)","fontSize":"1.05rem"},"dangerouslySetInnerHTML":{"__html":"$e"}}],"$Lf"]}],"$L10"]
f:["$","div",null,{"style":{"marginTop":"5rem","maxWidth":"600px","marginLeft":"auto","marginRight":"auto","background":"var(--bg-card)","border":"1px solid var(--border-subtle)","borderRadius":"24px","padding":"3.5rem","position":"relative","overflow":"hidden","boxShadow":"var(--card-shadow)"},"children":[["$","div",null,{"style":{"position":"absolute","top":"-2px","left":"-2px","right":"-2px","bottom":"-2px","background":"linear-gradient(135deg, var(--accent-cyan), var(--accent-purple), var(--accent-cyan))","borderRadius":"26px","zIndex":-1,"opacity":0.3}}],["$","h2",null,{"style":{"fontFamily":"var(--font-space-grotesk)","fontSize":"2rem","fontWeight":700,"marginBottom":"0.75rem","color":"var(--text-primary)","position":"relative","zIndex":1},"children":"Get weekly cloud cost tips"}],["$","p",null,{"style":{"color":"var(--text-secondary)","marginBottom":"2rem","fontSize":"1rem","lineHeight":1.8,"position":"relative","zIndex":1},"children":"Join engineers saving money on cloud costs. Actionable strategies every Friday."}],["$","a",null,{"href":"https://sendfox.com/form/3qdz96/36enr2","style":{"display":"inline-block","fontFamily":"var(--font-nunito)","fontSize":"1rem","fontWeight":700,"padding":"1.2rem 2rem","background":"linear-gradient(135deg, var(--accent-cyan) 0%, var(--accent-purple) 100%)","color":"white","border":"none","borderRadius":"12px","cursor":"pointer","textDecoration":"none","transition":"all 0.3s ease","position":"relative","zIndex":1},"children":"Subscribe (free)"}]]}]
10:["$","footer",null,{"style":{"padding":"3rem 2rem","textAlign":"center","borderTop":"1px solid var(--border-subtle)","position":"relative","zIndex":1,"animation":"fadeInUp 0.9s ease-out 0.4s both"},"children":["$","p",null,{"style":{"fontFamily":"var(--font-nunito)","fontSize":"0.85rem","color":"var(--text-muted)"},"children":"© 2026 Cost Nimbus. Built by engineers, for engineers."}]}]
9:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
11:I[64481,["/_next/static/chunks/d6bee75b35a28280.js","/_next/static/chunks/8189c34e001333f7.js"],"IconMark"]
7:null
b:[["$","title","0",{"children":"The Hidden Costs of AWS NAT Gateways (And How to Cut Them by 80%) | Cost Nimbus | Cost Nimbus"}],["$","meta","1",{"name":"description","content":"I saved $18,000 per month by optimizing NAT Gateway usage. Learn how VPC endpoints, NAT instances, and IPv6 can slash your AWS networking costs."}],["$","meta","2",{"name":"keywords","content":"AWS Cost Optimization, cloud costs, AWS optimization, FinOps, cloud savings, cost management"}],["$","meta","3",{"property":"og:title","content":"Cost Nimbus - Cloud Cost Intelligence"}],["$","meta","4",{"property":"og:description","content":"Real cloud cost optimization strategies built by engineers, for engineers. Save thousands monthly with battle-tested techniques."}],["$","meta","5",{"property":"og:site_name","content":"Cost Nimbus"}],["$","meta","6",{"property":"og:type","content":"website"}],["$","meta","7",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","8",{"name":"twitter:title","content":"Cost Nimbus - Cloud Cost Intelligence"}],["$","meta","9",{"name":"twitter:description","content":"Real cloud cost optimization strategies built by engineers, for engineers. Save thousands monthly with battle-tested techniques."}],["$","link","10",{"rel":"icon","href":"/favicon.ico?favicon.0b3bf435.ico","sizes":"256x256","type":"image/x-icon"}],["$","$L11","11",{}]]
